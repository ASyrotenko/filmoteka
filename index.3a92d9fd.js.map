{"mappings":"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","sources":["src/index.js","src/js/addvideo.js","src/js/firebase-db-index.js","node_modules/notiflix/build/notiflix-confirm-aio.js","src/js/library-auth.js","src/js/movie-card.js","src/js/search-movie.js","src/js/films-gallery.js","src/js/get-genres.js","src/js/backToTop.js"],"sourcesContent":["import './js/modal-team';\nimport './js/addvideo';\nimport './js/firebase-auth';\nimport './js/firebase-db-index';\nimport './js/firebase-class';\nimport './js/movie-card';\nimport './js/search-movie';\nimport './js/change-color-scheme.js';\nimport './js/library-auth';\nimport './js/backToTop';\n// import './js/pagination';\n\nimport { FilmsApiService } from './js/films-service';\nimport { filmTpl } from './js/films-gallery';\nimport { getRefs } from './js/get-refs';\nimport { combineGenres } from './js/get-genres';\n// import { pagination } from './js/pagination';\nconst refs = getRefs();\n\nfunction renderFilmGallery(films, genres) {\n  refs.filmGallery.insertAdjacentHTML('beforeend', filmTpl(films, genres));\n  //remove spinner\n  document.querySelector('.spinner').style.display = 'none';\n}\n\nexport const filmsApiService = new FilmsApiService();\nasync function load() {\n  const genres = await combineGenres();\n  const filmsTrending = await filmsApiService.fetchFilmsTrending();\n  renderFilmGallery(filmsTrending, genres);\n}\nload();\n","import { getRefs } from './get-refs';\nconst refs = getRefs();\nimport { filmsApiService } from '../index';\n\nconst stopVideos = () => {\n  document.querySelectorAll('iframe').forEach(v => {\n    v.src = v.src;\n  });\n  document.querySelectorAll('video').forEach(v => {\n    v.pause();\n  });\n};\n\nrefs.trailerOverlay.addEventListener('click', showVideo);\nrefs.closeVideoBtn.addEventListener('click', closeVideo);\nrefs.watchBtn.addEventListener('click', showVideo);\n\nfunction videoTpl(trailer) {\n  const { key, site } = trailer;\n\n  return `<iframe class=\"iframe\" width=\"100%\" height=\"100%\" src=\"https://www.${site}.com/embed/${key}?origin=https://asyrotenko.github.io\" title=\"video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media;\n    gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n}\n\nexport function renderVideoBox(videos) {\n  const trailer = videos.find(video => video.name === 'Official Trailer' ?? {});\n  if (!trailer) {\n    refs.watchBtn.classList.add('not-active');\n    refs.trailerOverlay.classList.add('not-active');\n    return;\n  }\n  refs.insertVideoCont.insertAdjacentHTML('beforeend', videoTpl(trailer));\n}\n\nexport async function showVideo() {\n  refs.insertVideoCont.classList.add('is-active');\n  refs.trailerBox.classList.add('is-active');\n  refs.watchBtn.setAttribute('disabled', ' ');\n  refs.closeVideoBtn.removeAttribute('disabled');\n  refs.insertVideoCont.scrollIntoView();\n}\n\nexport function closeVideo() {\n  stopVideos();\n  refs.insertVideoCont.classList.remove('is-active');\n  refs.trailerBox.classList.remove('is-active');\n  refs.closeVideoBtn.setAttribute('disabled', '');\n  refs.watchBtn.removeAttribute('disabled');\n}\n","import { Firebase, auth } from './firebase-class';\nimport { getRefs } from './get-refs';\nimport { authorizedGoogle } from './library-auth';\n\nconst refs = getRefs();\n\nconst firebase = new Firebase();\n\nrefs.addToWatched.addEventListener('click', () => {\n  if (!auth.lastNotifiedUid) {\n    authorizedGoogle();\n  }\n});\n\nrefs.addToQueue.addEventListener('click', () => {\n  if (!auth.lastNotifiedUid) {\n    authorizedGoogle();\n  }\n});\n\nrefs.addToWatched.addEventListener('click', pullToWatched);\nrefs.addToQueue.addEventListener('click', pullToQueue);\nrefs.filmGallery.addEventListener('click', getMovieStatus);\n\nasync function getMovieStatus(e) {\n  const textContentRemoveWatched = 'remove from watched';\n  const watchedMovies = await firebase.getDoc('watched');\n  const watchedMoviesId = Object.values(watchedMovies);\n  const currentWatchedMovieStatus = watchedMoviesId.includes(e.target.id);\n\n  if (currentWatchedMovieStatus) {\n    refs.addToWatched.textContent = textContentRemoveWatched;\n    refs.addToWatched.classList.add('film-btn--active');\n  }\n\n  const textContentRemoveQueue = 'remove from queue';\n  const queueMovies = await firebase.getDoc('queue');\n  const queueMoviesId = Object.values(queueMovies);\n  const currentQueueMovieStatus = queueMoviesId.includes(e.target.id);\n\n  if (currentQueueMovieStatus) {\n    refs.addToQueue.textContent = textContentRemoveQueue;\n    refs.addToQueue.classList.add('film-btn--active');\n  }\n}\n\nfunction pullToWatched(e) {\n  const textContentAdd = 'add to watched';\n  const textContentRemove = 'remove from watched';\n  console.log(firebase.setDoc.userId);\n  if (e.target.textContent.includes(textContentAdd)) {\n    e.target.textContent = textContentRemove;\n    firebase.setDoc('watched');\n    firebase.removeFilmById('queue');\n    refs.addToQueue.textContent = 'add to queue';\n    refs.addToQueue.classList.remove('film-btn--active');\n  } else if (e.target.textContent.includes(textContentRemove)) {\n    e.target.textContent = textContentAdd;\n    firebase.removeFilmById('watched');\n    refs.addToWatched.classList.remove('film-btn--active');\n  }\n}\n\nfunction pullToQueue(e) {\n  const textContentAdd = 'add to queue';\n  const textContentRemove = 'remove from queue';\n  if (e.target.textContent.includes(textContentAdd)) {\n    e.target.textContent = textContentRemove;\n    firebase.setDoc('queue');\n    firebase.removeFilmById('watched');\n    refs.addToWatched.textContent = 'add to watched';\n    refs.addToWatched.classList.remove('film-btn--active');\n  } else if (e.target.textContent.includes(textContentRemove)) {\n    e.target.textContent = textContentAdd;\n    firebase.removeFilmById('queue');\n    refs.addToQueue.classList.remove('film-btn--active');\n  }\n}\n","/*\n* Notiflix Confirm AIO (https://notiflix.github.io)\n* Description: This file has been created automatically that using \"notiflix.js\", and \"notiflix.css\" files.\n* Version: 3.2.5\n* Author: Furkan MT (https://github.com/furcan)\n* Copyright 2019 - 2022 Notiflix, MIT Licence (https://opensource.org/licenses/MIT)\n*/\n\n/* global define */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], function () {\n      return factory(root);\n    });\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory(root);\n  } else {\n    root.Notiflix = factory(root);\n  }\n})(typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : this, function (window) {\n\n  'use strict';\n\n  // COMMON: SSR check: begin\n  if (typeof window === 'undefined' && typeof window.document === 'undefined') {\r\n    return false;\r\n  }\n  // COMMON: SSR check: end\n\n  // COMMON: Variables: begin\n  var notiflixNamespace = 'Notiflix';\r\n  var notiflixConsoleDocs = '\\n\\nVisit documentation page to learn more: https://notiflix.github.io/documentation';\r\n  var defaultFontFamily = '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif';\n  // COMMON: Variables: end\n\n  // CONFIRM: Default Settings: begin\n  var typesConfirm = {\r\n    Show: 'Show',\r\n    Ask: 'Ask',\r\n    Prompt: 'Prompt',\r\n  };\r\n  var newConfirmSettings;\r\n  var confirmSettings = {\r\n    ID: 'NotiflixConfirmWrap', // can not customizable\r\n    className: 'notiflix-confirm',\r\n    width: '300px',\r\n    zindex: 4003,\r\n    position: 'center', // 'center' - 'center-top' - 'center-bottom' - 'right-top' - 'right-center' - 'right-bottom' - 'left-top' - 'left-center' - 'left-bottom'\r\n    distance: '10px',\r\n    backgroundColor: '#f8f8f8',\r\n    borderRadius: '25px',\r\n    backOverlay: true,\r\n    backOverlayColor: 'rgba(0,0,0,0.5)',\r\n    rtl: false,\r\n    fontFamily: 'Quicksand',\r\n    cssAnimation: true,\r\n    cssAnimationDuration: 300,\r\n    cssAnimationStyle: 'fade', // 'zoom' - 'fade'\r\n    plainText: true,\r\n\n    titleColor: '#32c682',\r\n    titleFontSize: '16px',\r\n    titleMaxLength: 34,\r\n\n    messageColor: '#1e1e1e',\r\n    messageFontSize: '14px',\r\n    messageMaxLength: 110,\r\n\n    buttonsFontSize: '15px',\r\n    buttonsMaxLength: 34,\r\n    okButtonColor: '#f8f8f8',\r\n    okButtonBackground: '#32c682',\r\n    cancelButtonColor: '#f8f8f8',\r\n    cancelButtonBackground: '#a9a9a9',\r\n  };\n  // CONFIRM: Default Settings: end\n\n  // COMMON: Console Error: begin\n  var commonConsoleError = function (message) {\r\n    return console.error('%c ' + notiflixNamespace + ' Error ', 'padding:2px;border-radius:20px;color:#fff;background:#ff5549', '\\n' + message + notiflixConsoleDocs);\r\n  };\n  // COMMON: Console Error: end\n\n  // COMMON: Check Head or Body: begin\n  var commonCheckHeadOrBody = function (element) {\r\n    if (!element) { element = 'head'; }\r\n    if (window.document[element] === null) {\r\n      commonConsoleError('\\nNotiflix needs to be appended to the \"<' + element + '>\" element, but you called it before the \"<' + element + '>\" element has been created.');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\n  // COMMON: Check Head or Body: end\n\n  // COMMON: Set Internal CSS Codes: begin\n  var commonSetInternalCSSCodes = function (getInternalCSSCodes, styleElementId) {\r\n    // check doc head\r\n    if (!commonCheckHeadOrBody('head')) { return false; }\r\n\n    // internal css\r\n    if (getInternalCSSCodes() !== null && !window.document.getElementById(styleElementId)) {\r\n      var internalCSS = window.document.createElement('style');\r\n      internalCSS.id = styleElementId;\r\n      internalCSS.innerHTML = getInternalCSSCodes();\r\n      window.document.head.appendChild(internalCSS);\r\n    }\r\n  };\n  // COMMON: Set Internal CSS Codes: end\n\n  // COMMON: Extend Options: begin\n  var commonExtendOptions = function () {\r\n    // variables\r\n    var extended = {};\r\n    var deep = false;\r\n    var i = 0;\r\n    // check if a deep merge\r\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\r\n      deep = arguments[0];\r\n      i++;\r\n    }\r\n    // merge the object into the extended object\r\n    var merge = function (obj) {\r\n      for (var prop in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n          // if property is an object, merge properties\r\n          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\r\n            extended[prop] = commonExtendOptions(extended[prop], obj[prop]);\r\n          } else {\r\n            extended[prop] = obj[prop];\r\n          }\r\n        }\r\n      }\r\n    };\r\n    // loop through each object and conduct a merge\r\n    for (; i < arguments.length; i++) {\r\n      merge(arguments[i]);\r\n    }\r\n    return extended;\r\n  };\n  // COMMON: Extend Options: end\n\n  // COMMON: Get Plaintext: begin\n  var commonGetPlaintext = function (html) {\r\n    var htmlPool = window.document.createElement('div');\r\n    htmlPool.innerHTML = html;\r\n    return htmlPool.textContent || htmlPool.innerText || '';\r\n  };\n  // COMMON: Get Plaintext: end\n\n  // CONFIRM: Get Internal CSS Codes: begin\n  var confirmGetInternalCSSCodes = function () {\r\n    var confirmCSS = '[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:\"Quicksand\",-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*=\"-overlay\"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*=\"-overlay\"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*=\"-overlay\"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-head\"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-head\"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-head\"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-head\"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-head\"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*=\"-content\"]>div[class*=\"-head\"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-head\"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-head\"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-head\"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-head\"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-buttons\"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-buttons\"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-buttons\"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-buttons\"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-buttons\"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*=\"-content\"]>div[class*=\"-buttons\"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*=\"-content\"]>div[class*=\"-buttons\"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*=\"-content\"]>div[class*=\"-buttons\"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*=\"-content\"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*=\"-content\"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*=\"-content\"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*=\"-content\"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}';\r\n    return confirmCSS || null;\r\n  };\n  // CONFIRM: Get Internal CSS Codes: end\n\n  // CONFIRM: Create: begin\n  var confirmCreate = function (confirmType, title, messageOrQuestion, answer, okButtonText, cancelButtonText, okButtonCallback, cancelButtonCallback, options) {\r\n    // check doc body\r\n    if (!commonCheckHeadOrBody('body')) { return false; }\r\n\n    // if not initialized pretend like init\r\n    if (!newConfirmSettings) {\r\n      Notiflix.Confirm.init({});\r\n    }\r\n\n    // create a backup for new settings\r\n    var newConfirmSettingsBackup = commonExtendOptions(true, newConfirmSettings, {});\r\n\n    // check the \"options\": begin\r\n    if (typeof options === 'object' && !Array.isArray(options)) {\r\n      // extend new settings with the new options\r\n      newConfirmSettings = commonExtendOptions(true, newConfirmSettings, options);\r\n    }\r\n    // check the \"options\": end\r\n\n    // check the arguments: begin\r\n    if (typeof title !== 'string') { title = 'Notiflix Confirm'; }\r\n    if (typeof messageOrQuestion !== 'string') { messageOrQuestion = 'Do you agree with me?'; }\r\n    if (typeof okButtonText !== 'string') { okButtonText = 'Yes'; }\r\n    if (typeof cancelButtonText !== 'string') { cancelButtonText = 'No'; }\r\n    if (typeof okButtonCallback !== 'function') { okButtonCallback = undefined; }\r\n    if (typeof cancelButtonCallback !== 'function') { cancelButtonCallback = undefined; }\r\n    // check the arguments: end\r\n\n    // if plainText is true => HTML tags not allowed: begin\r\n    if (newConfirmSettings.plainText) {\r\n      title = commonGetPlaintext(title);\r\n      messageOrQuestion = commonGetPlaintext(messageOrQuestion);\r\n      okButtonText = commonGetPlaintext(okButtonText);\r\n      cancelButtonText = commonGetPlaintext(cancelButtonText);\r\n    }\r\n    // if plainText is true => HTML tags not allowed: end\r\n\n    // if plainText is false but the contents length more than ***MaxLength => Possible HTML tags error: begin\r\n    if (!newConfirmSettings.plainText) {\r\n      if (title.length > newConfirmSettings.titleMaxLength) {\r\n        title = 'Possible HTML Tags Error';\r\n        messageOrQuestion = 'The \"plainText\" option is \"false\" and the title content length is more than \"titleMaxLength\" option.';\r\n        okButtonText = 'Okay';\r\n        cancelButtonText = '...';\r\n      }\r\n      if (messageOrQuestion.length > newConfirmSettings.messageMaxLength) {\r\n        title = 'Possible HTML Tags Error';\r\n        messageOrQuestion = 'The \"plainText\" option is \"false\" and the message content length is more than \"messageMaxLength\" option.';\r\n        okButtonText = 'Okay';\r\n        cancelButtonText = '...';\r\n      }\r\n      if ((okButtonText.length || cancelButtonText.length) > newConfirmSettings.buttonsMaxLength) {\r\n        title = 'Possible HTML Tags Error';\r\n        messageOrQuestion = 'The \"plainText\" option is \"false\" and the buttons content length is more than \"buttonsMaxLength\" option.';\r\n        okButtonText = 'Okay';\r\n        cancelButtonText = '...';\r\n      }\r\n    }\r\n    // if plainText is false but the contents length more than ***MaxLength => Possible HTML tags error: end\r\n\n    // max length: begin\r\n    if (title.length > newConfirmSettings.titleMaxLength) {\r\n      title = title.substring(0, newConfirmSettings.titleMaxLength) + '...';\r\n    }\r\n    if (messageOrQuestion.length > newConfirmSettings.messageMaxLength) {\r\n      messageOrQuestion = messageOrQuestion.substring(0, newConfirmSettings.messageMaxLength) + '...';\r\n    }\r\n    if (okButtonText.length > newConfirmSettings.buttonsMaxLength) {\r\n      okButtonText = okButtonText.substring(0, newConfirmSettings.buttonsMaxLength) + '...';\r\n    }\r\n    if (cancelButtonText.length > newConfirmSettings.buttonsMaxLength) {\r\n      cancelButtonText = cancelButtonText.substring(0, newConfirmSettings.buttonsMaxLength) + '...';\r\n    }\r\n    // max length: end\r\n\n    // if cssAnimaion is false => duration: begin\r\n    if (!newConfirmSettings.cssAnimation) {\r\n      newConfirmSettings.cssAnimationDuration = 0;\r\n    }\r\n    // if cssAnimaion is false => duration: end\r\n\n    // confirm wrap: begin\r\n    var ntflxConfirmWrap = window.document.createElement('div');\r\n    ntflxConfirmWrap.id = confirmSettings.ID;\r\n    ntflxConfirmWrap.className = newConfirmSettings.className + (newConfirmSettings.cssAnimation ? ' nx-with-animation nx-' + newConfirmSettings.cssAnimationStyle : '');\r\n    ntflxConfirmWrap.style.zIndex = newConfirmSettings.zindex;\r\n    ntflxConfirmWrap.style.padding = newConfirmSettings.distance;\r\n\n    // rtl: begin\r\n    if (newConfirmSettings.rtl) {\r\n      ntflxConfirmWrap.setAttribute('dir', 'rtl');\r\n      ntflxConfirmWrap.classList.add('nx-rtl-on');\r\n    }\r\n    // rtl: end\r\n\n    // position: begin\r\n    var confirmPosition = typeof newConfirmSettings.position === 'string' ? newConfirmSettings.position.trim() : 'center';\r\n    ntflxConfirmWrap.classList.add('nx-position-' + confirmPosition);\r\n    // position: end\r\n\n    // font-family\r\n    ntflxConfirmWrap.style.fontFamily = '\"' + newConfirmSettings.fontFamily + '\", ' + defaultFontFamily;\r\n\n    // if background overlay is true: begin\r\n    var confirmOverlay = '';\r\n    if (newConfirmSettings.backOverlay) {\r\n      confirmOverlay = '<div class=\"' + newConfirmSettings.className + '-overlay' + (newConfirmSettings.cssAnimation ? ' nx-with-animation' : '') + '\" style=\"background:' + newConfirmSettings.backOverlayColor + ';animation-duration:' + newConfirmSettings.cssAnimationDuration + 'ms;\"></div>';\r\n    }\r\n    // if background overlay is true: end\r\n\n    // if have a callback => add cancel button: begin\r\n    var cancelButtonHTML = '';\r\n    if (typeof okButtonCallback === 'function') {\r\n      cancelButtonHTML = '<a id=\"NXConfirmButtonCancel\" class=\"nx-confirm-button-cancel\" style=\"color:' + newConfirmSettings.cancelButtonColor + ';background:' + newConfirmSettings.cancelButtonBackground + ';font-size:' + newConfirmSettings.buttonsFontSize + ';\">' + cancelButtonText + '</a>';\r\n    }\r\n    // if have a callback => add cancel button: end\r\n\n    // check the validation module: begin\r\n    var setValidationInput = '';\r\n    var theExpectedAnswer = null;\r\n    var theClientAnswer = undefined;\r\n    if (confirmType === typesConfirm.Ask || confirmType === typesConfirm.Prompt) {\r\n      theExpectedAnswer = answer || '';\r\n      var inputMaxLength = (confirmType === typesConfirm.Ask) ? Math.ceil(theExpectedAnswer.length * 1.5) : (theExpectedAnswer.length > 200 ? Math.ceil(theExpectedAnswer.length * 1.5) : 250);\r\n      var inputDefaultValueAttr = confirmType === typesConfirm.Prompt ? ('value=\"' + theExpectedAnswer + '\"') : '';\r\n      setValidationInput = '<div><input id=\"NXConfirmValidationInput\" type=\"text\" ' + inputDefaultValueAttr + ' maxlength=\"' + inputMaxLength + '\" style=\"font-size:' + newConfirmSettings.messageFontSize + ';border-radius: ' + newConfirmSettings.borderRadius + ';\" autocomplete=\"off\" spellcheck=\"false\" autocapitalize=\"none\" /></div>';\r\n    }\r\n    // check the validation module: end\r\n\n    // confirm wrap content: begin\r\n    ntflxConfirmWrap.innerHTML = confirmOverlay +\r\n      '<div class=\"' + newConfirmSettings.className + '-content\" style=\"width:' + newConfirmSettings.width + '; background:' + newConfirmSettings.backgroundColor + '; animation-duration:' + newConfirmSettings.cssAnimationDuration + 'ms; border-radius: ' + newConfirmSettings.borderRadius + ';\">' +\r\n      '<div class=\"' + newConfirmSettings.className + '-head\">' +\r\n      '<h5 style=\"color:' + newConfirmSettings.titleColor + ';font-size:' + newConfirmSettings.titleFontSize + ';\">' + title + '</h5>' +\r\n      '<div style=\"color:' + newConfirmSettings.messageColor + ';font-size:' + newConfirmSettings.messageFontSize + ';\">' + messageOrQuestion + setValidationInput + '</div>' +\r\n      '</div>' +\r\n      '<div class=\"' + newConfirmSettings.className + '-buttons\">' +\r\n      '<a id=\"NXConfirmButtonOk\" class=\"nx-confirm-button-ok' + (typeof okButtonCallback === 'function' ? '' : ' nx-full') + '\" style=\"color:' + newConfirmSettings.okButtonColor + ';background:' + newConfirmSettings.okButtonBackground + ';font-size:' + newConfirmSettings.buttonsFontSize + ';\">' + okButtonText + '</a>' +\r\n      cancelButtonHTML +\r\n      '</div>' +\r\n      '</div>';\r\n    // confirm wrap content: end\r\n    // confirm wrap: end\r\n\n    // if there is no confirm box: begin\r\n    if (!window.document.getElementById(ntflxConfirmWrap.id)) {\r\n      window.document.body.appendChild(ntflxConfirmWrap);\r\n\n      // buttons && input listener: begin\r\n      var confirmCloseWrap = window.document.getElementById(ntflxConfirmWrap.id);\r\n      var okButton = window.document.getElementById('NXConfirmButtonOk');\r\n\n      // validation input listener: begin\r\n      var validationInput = window.document.getElementById('NXConfirmValidationInput');\r\n      if (validationInput) {\r\n        validationInput.focus();\r\n        validationInput.setSelectionRange(0, (validationInput.value || '').length);\r\n        validationInput.addEventListener('keyup', function (event) {\r\n          var thisValue = event.target.value;\r\n          if (\r\n            (confirmType === typesConfirm.Ask) &&\r\n            (thisValue !== theExpectedAnswer)\r\n          ) {\r\n            event.preventDefault();\r\n            validationInput.classList.add('nx-validation-failure');\r\n            validationInput.classList.remove('nx-validation-success');\r\n          } else {\r\n            if (confirmType === typesConfirm.Ask) {\r\n              validationInput.classList.remove('nx-validation-failure');\r\n              validationInput.classList.add('nx-validation-success');\r\n            }\r\n            var isEnter = (event.key || '').toLocaleLowerCase('en') === 'enter' || event.keyCode === 13;\r\n            if (isEnter) {\r\n              okButton.dispatchEvent(new Event('click'));\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // validation input listener: end\r\n\n      // ok button listener: begin\r\n      okButton.addEventListener('click', function (event) {\r\n        // check the answer if the type is \"Ask\": begin\r\n        if (confirmType === typesConfirm.Ask && theExpectedAnswer && validationInput) {\r\n          var inputValue = (validationInput.value || '').toString();\r\n          if (inputValue !== theExpectedAnswer) {\r\n            validationInput.focus();\r\n            validationInput.classList.add('nx-validation-failure');\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            event.returnValue = false;\r\n            event.cancelBubble = true;\r\n            return false;\r\n          } else {\r\n            validationInput.classList.remove('nx-validation-failure');\r\n          }\r\n        }\r\n        // check the answer if the type is \"Ask\": end\r\n\n        // if ok callback && if ok callback is a function\r\n        if (typeof okButtonCallback === 'function') {\r\n          if (confirmType === typesConfirm.Prompt && validationInput) {\r\n            theClientAnswer = validationInput.value || '';\r\n          }\r\n          okButtonCallback(theClientAnswer);\r\n        }\r\n        confirmCloseWrap.classList.add('nx-remove');\r\n\n        var timeout = setTimeout(function () {\r\n          if (confirmCloseWrap.parentNode !== null) {\r\n            confirmCloseWrap.parentNode.removeChild(confirmCloseWrap);\r\n            clearTimeout(timeout);\r\n          }\r\n        }, newConfirmSettings.cssAnimationDuration);\r\n      });\r\n      // ok button listener: end\r\n\n      // if ok callback && if ok callback a function => add Cancel Button listener: begin\r\n      if (typeof okButtonCallback === 'function') {\r\n        // cancel button listener: begin\r\n        var cancelButton = window.document.getElementById('NXConfirmButtonCancel');\r\n        cancelButton.addEventListener('click', function () {\r\n          // if cancel callback && if cancel callback a function\r\n          if (typeof cancelButtonCallback === 'function') {\r\n            if (confirmType === typesConfirm.Prompt && validationInput) {\r\n              theClientAnswer = validationInput.value || '';\r\n            }\r\n            cancelButtonCallback(theClientAnswer);\r\n          }\r\n          confirmCloseWrap.classList.add('nx-remove');\r\n\n          var timeout = setTimeout(function () {\r\n            if (confirmCloseWrap.parentNode !== null) {\r\n              confirmCloseWrap.parentNode.removeChild(confirmCloseWrap);\r\n              clearTimeout(timeout);\r\n            }\r\n          }, newConfirmSettings.cssAnimationDuration);\r\n        });\r\n        // cancel button listener: end\r\n      }\r\n      // if ok callback && if ok callback a function => add Cancel Button listener: end\r\n      // buttons && input listener: end\r\n    }\r\n    // if there is no confirm box: end\r\n\n    // extend new settings with the backup settings\r\n    newConfirmSettings = commonExtendOptions(true, newConfirmSettings, newConfirmSettingsBackup);\r\n  };\n  // CONFIRM: Create: end\n\n  var Notiflix = {\n    Confirm: {\r\n      // Init\r\n      init: function (userConfirmOptions) {\r\n        // extend options\r\n        newConfirmSettings = commonExtendOptions(true, confirmSettings, userConfirmOptions);\r\n        // internal css if exist\r\n        commonSetInternalCSSCodes(confirmGetInternalCSSCodes, 'NotiflixConfirmInternalCSS');\r\n      },\r\n      // Merge First Init\r\n      merge: function (userConfirmExtendOptions) {\r\n        // if initialized already\r\n        if (newConfirmSettings) {\r\n          newConfirmSettings = commonExtendOptions(true, newConfirmSettings, userConfirmExtendOptions);\r\n        }\r\n        // initialize first\r\n        else {\r\n          commonConsoleError('You have to initialize the Confirm module before call Merge function.');\r\n          return false;\r\n        }\r\n      },\r\n      // Show\r\n      show: function (title, message, okButtonText, cancelButtonText, okButtonCallback, cancelButtonCallback, options) {\r\n        confirmCreate(typesConfirm.Show, title, message, null, okButtonText, cancelButtonText, okButtonCallback, cancelButtonCallback, options);\r\n      },\r\n      // Ask\r\n      ask: function (title, question, answer, okButtonText, cancelButtonText, okButtonCallback, cancelButtonCallback, options) {\r\n        confirmCreate(typesConfirm.Ask, title, question, answer, okButtonText, cancelButtonText, okButtonCallback, cancelButtonCallback, options);\r\n      },\r\n      // Prompt\r\n      prompt: function (title, question, defaultAnswer, okButtonText, cancelButtonText, okButtonCallback, cancelButtonCallback, options) {\r\n        confirmCreate(typesConfirm.Prompt, title, question, defaultAnswer, okButtonText, cancelButtonText, okButtonCallback, cancelButtonCallback, options);\r\n      },\r\n    },\n  };\n\n  if (typeof window.Notiflix === 'object') {\n    return commonExtendOptions(true, window.Notiflix, { Confirm: Notiflix.Confirm });\n  } else {\n    return { Confirm: Notiflix.Confirm };\n  }\n\n});","import { getRefs } from './get-refs';\nimport { Firebase, auth } from './firebase-class';\nimport { Confirm } from 'notiflix/build/notiflix-confirm-aio';\n\nconst refs = getRefs();\n\nconst firebase = new Firebase();\n\nexport function authorizedGoogle() {\n  Confirm.show(\n    'You are not authorized',\n    'You need to log in to view saved movies. Authorize through Google ?',\n    'Yes',\n    'No',\n    () => {\n      firebase.singInWithGoogle();\n    },\n    () => {},\n    {\n      fontFamily: 'Roboto, sans-serif',\n      width: '500px',\n      messageColor: '#ff6b08',\n      titleColor: '#ff6b08',\n      okButtonBackground: '#ff6b08',\n    }\n  );\n}\n\nrefs.myLibrary.addEventListener('click', () => {\n  if (!auth.lastNotifiedUid) {\n    authorizedGoogle();\n  } else {\n    window.location.href = 'my-library.html';\n  }\n});\n","// const posterUrl = 'https://www.themoviedb.org/t/p/w220_and_h330_face';\nconst posterLargeUrl = 'https://image.tmdb.org/t/p/original';\n// const posterLargeUrl = 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2';\nimport { filmsApiService } from '../index';\nimport { getRefs } from './get-refs';\nimport { closeVideo, renderVideoBox } from './addvideo';\n\nconst refs = getRefs();\n\nconst backdrop = document.querySelector('.backdrop');\nbackdrop.addEventListener('click', backdropClick);\n\nexport function renderMovieCard(movie) {\n  refs.insertImgCont.insertAdjacentHTML('beforeend', getPosterForCard(movie));\n  refs.movieBox.insertAdjacentHTML('beforeend', movieCardTpl(movie));\n  document.querySelector('.spinner').style.display = 'none';\n}\nexport function movieCardTpl(movie) {\n  const {\n    title,\n    original_name,\n    original_title,\n    popularity,\n    genres,\n    vote_average,\n    vote_count,\n    overview,\n    id,\n    video,\n  } = movie;\n\n  const movieTitle = original_name ?? original_title ?? '';\n  const movieGenres = genres ? genres.map(genre => genre.name) : '';\n\n  return `\n  <div class=\"img-box\"></div>\n  <div class=\"movie__id\" id=\"${id}\" ><h2 class=\"movie-card__title\">\n    ${title ?? movieTitle}\n    </h2>\n  <div class=\"movie__info-container\">\n<table class=\"movie-info__table\">\n  <tr>\n    ${\n      vote_count\n        ? `\n            <td class=\"movie__info-item\">Vote / Votes</td>\n        `\n        : ''\n    }\n    ${\n      vote_count\n        ? `\n            <td class=\"movie__info-data\"><span class=\"td-box\">${vote_average.toFixed(\n              1\n            )}</span> / ${vote_count}</td>\n        `\n        : ''\n    }\n    \n  </tr>\n  <tr>\n    ${\n      popularity\n        ? `\n            <td class=\"movie__info-item\">Popularity</td>\n        `\n        : ''\n    }\n    ${\n      popularity\n        ? `\n            <td class=\"movie__info-data\">${popularity.toFixed(1)}</td>\n        `\n        : ''\n    }\n  </tr>\n  <tr>\n     ${\n       movieTitle\n         ? `\n                <td class=\"movie__info-item\">Original Title</td>\n        `\n         : ''\n     }\n    ${\n      movieTitle\n        ? `\n                <td class=\"movie__info-data movie__info-data--title\">${movieTitle}</td>\n        `\n        : ''\n    }\n  </tr>\n    <tr>\n    ${movieGenres ? `<td class=\"movie__info-item\">Genre</td>` : ''}\n    ${\n      movieGenres\n        ? `<td class=\"movie__info-data\">${movieGenres.join(', ')}</td>`\n        : ''\n    }\n  </tr>\n</table>\n</div>\n${\n  overview\n    ? `\n    <h3 class=\"movie__about\">About</h3> `\n    : ''\n}\n${\n  overview\n    ? `\n    <p class=\"movie__about-info\">${overview}</p> `\n    : ''\n}\n</div>`;\n}\n\nexport function getPosterForCard({\n  original_title,\n  poster_path,\n  backdrop_path,\n} = {}) {\n  const moviePoster = poster_path ?? backdrop_path ?? '';\n  return `\n             <img\n            class=\"movie__poster\"\n            ${\n              moviePoster\n                ? `\n        src=\"${posterLargeUrl}${moviePoster}\"\n        `\n                : `src = ''`\n            }\n                        alt=\"Movie: ${original_title ?? ''}\"\n          />\n`;\n}\n\nrefs.filmGallery.addEventListener('click', onMovieCardClick);\n\nasync function onMovieCardClick(e) {\n  e.preventDefault();\n\n  if (!e.target.classList.contains('film__image')) {\n    return;\n  }\n\n  refs.insertImgCont.innerHTML = '';\n  refs.movieBox.innerHTML = '';\n  refs.watchBtn.classList.remove('not-active');\n\n  const movieCard = await filmsApiService.fetchMovie(e.target.id);\n  if (!movieCard) {\n    return;\n    //    !!!!\n  }\n\n  refs.modalBackdrop.classList.remove('is-hidden');\n  window.addEventListener('keydown', onEscPress);\n  document.querySelector('body').classList.add('modal-open');\n  renderMovieCard(movieCard);\n  const movieCardIdRef = document.querySelector('.movie__id');\n  const movieId = movieCardIdRef.id;\n  const videos = await filmsApiService.fetchMovieVideo(movieId);\n  renderVideoBox(videos);\n}\n\nrefs.modalCloseBtn.addEventListener('click', onMovieModalClose);\n\nfunction onMovieModalClose(e) {\n  refs.trailerOverlay.classList.remove('not-active');\n\n  refs.modalBackdrop.classList.add('is-hidden');\n  window.removeEventListener('keydown', onEscPress);\n  closeVideo();\n  document.querySelector('body').classList.remove('modal-open');\n  refs.insertVideoCont.innerHTML = ' ';\n\n  refs.addToWatched.textContent = 'add to watched';\n  refs.addToWatched.classList.remove('film-btn--active');\n  refs.addToQueue.textContent = 'add to queue';\n  refs.addToQueue.classList.remove('film-btn--active');\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    onMovieModalClose();\n  }\n}\n\nfunction backdropClick(e) {\n  if (e.currentTarget === e.target) {\n    onMovieModalClose();\n  }\n}\n","import { getRefs } from './get-refs';\nimport { FilmsApiService } from './films-service';\nimport { filmTpl } from './films-gallery';\nimport { combineGenres } from './get-genres';\n\nconst refs = getRefs();\n\nconst filmsApiService = new FilmsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\nasync function onSearch(e) {\n  e.preventDefault();\n  const form = e.target;\n  filmsApiService.query = e.target.elements.search.value.trim();\n\n  if (filmsApiService.query === '') {\n    onError();\n    return;\n  }\n  const genres = await combineGenres();\n  const filmOnSearch = await filmsApiService.fetchFilmsOnSearch(\n    filmsApiService.query\n  );\n  clearGalleryContainer();\n  renderFilmGallery(filmOnSearch, genres);\n  form.reset();\n}\n\nfunction onError() {\n  alert('Please type something');\n  console.log('ERROR');\n}\n\nfunction renderFilmGallery(films, genres) {\n  refs.filmGallery.insertAdjacentHTML('beforeend', filmTpl(films, genres));\n}\n\nfunction clearGalleryContainer() {\n  refs.filmGallery.innerHTML = '';\n}\n","const posterUrl = 'https://www.themoviedb.org/t/p/w220_and_h330_face';\nconst posterLargeUrl = 'https://image.tmdb.org/t/p/original';\n// const posterLargeUrl = 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2';\n// import { filmsApiService } from '../index';\n//image.tmdb.org/t/p/w500/kqjL17yufvn9OVLyXYpvtyrFfak.jpg\n\nexport function filmTpl({ results }, genresDict) {\n  return results\n    .map(\n      ({\n        original_name,\n        original_title,\n        release_date,\n        first_air_date,\n        genre_ids,\n        vote_average: votes,\n        poster_path: poster,\n        id,\n      }) => {\n        const filmTitle = original_name ?? original_title ?? '';\n        const filmDate = release_date ?? first_air_date ?? '';\n        return ` <li   class=\"film__item\">\n    \n        <a class=\"film__link\"\n        href=\"#\"\n        >\n          <img id='${id}'\n            class=\"film__image\"\n            ${\n              poster\n                ? `\n        src=\"${posterLargeUrl}${poster}\"\n        `\n                : `src = 'https://upload.wikimedia.org/wikipedia/commons/f/f9/No-image-available.jpg'`\n            }\n                        alt=\"Movie: ${filmTitle}\"\n          />\n        </a>\n      </div>\n      <div class=\"film__info\">\n      <p class=\"film__info--text\">Watch \"${filmTitle}\" online</p>\n      </div>\n      <div class=\"film__content\">\n        ${\n          filmTitle\n            ? `\n        <h3 class=\"film__film__title\">\n          ${filmTitle}</h3>\n        `\n            : ''\n        } ${\n          genre_ids\n            ? `\n        <p class=\"film__genres\">${genre_ids\n          .map(id => genresDict[id])\n          .join(', ')}\n        </p>\n        `\n            : ''\n        } \n\n        ${\n          filmDate\n            ? `\n        <p class=\"film__date\">| ${new Date(filmDate).getFullYear()}</p>\n        `\n            : ''\n        } \n   \n    </li>\n    `;\n      }\n    )\n    .join('');\n}\n","import axios from 'axios';\nimport { API_KEY, BASE_URL } from './films-service';\n\nasync function fetchMovieGenres() {\n  try {\n    const url = `${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(url);\n    return response.data.genres.reduce((acc, currentValue) => {\n      acc[currentValue.id] = currentValue.name;\n\n      return acc;\n    }, {});\n  } catch (error) {\n    alert('ERRORgenres');\n  }\n}\n\nasync function fetchTvGenres() {\n  try {\n    const url = `${BASE_URL}/genre/tv/list?api_key=${API_KEY}&language=en-US`;\n    const response = await axios.get(url);\n    return response.data.genres.reduce((acc, currentValue) => {\n      acc[currentValue.id] = currentValue.name;\n\n      return acc;\n    }, {});\n  } catch (error) {\n    alert('ERRORTvgenres');\n  }\n}\n\nexport async function combineGenres() {\n  const movieGenres = await fetchMovieGenres();\n  const tvGenres = await fetchTvGenres();\n  const genres = { ...movieGenres, ...tvGenres };\n  return genres;\n}\n","import { getRefs } from './get-refs';\nconst refs = getRefs();\n\nconst btnUp = {\n  el: refs.btnUp,\n  show() {\n    this.el.classList.remove('btn-up_hide');\n  },\n  hide() {\n    this.el.classList.add('btn-up_hide');\n  },\n\n  addEventListener() {\n    window.addEventListener('scroll', () => {\n      const scrollY = window.scrollY || document.documentElement.scrollTop;\n      scrollY > 900 ? this.show() : this.hide();\n    });\n    document.querySelector('.btn-up').onclick = () => {\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      });\n    };\n  },\n};\n\nbtnUp.addEventListener();\n"],"names":["parcelRequire","$00aff065e868c198$var$refs","$lpPzL","getRefs","$00aff065e868c198$export$4c07ddf2d98a14f0","videos","trailer","find","video","name","watchBtn","classList","add","trailerOverlay","insertVideoCont","insertAdjacentHTML","key","site","$00aff065e868c198$var$videoTpl","async","$00aff065e868c198$export$3949c78fa34dc1d0","trailerBox","setAttribute","closeVideoBtn","removeAttribute","scrollIntoView","$00aff065e868c198$export$add73491473b3471","document","querySelectorAll","forEach","v","src","pause","remove","addEventListener","root","factory","$fzYh0","$parcel$global","window","$8371a8bef07b3531$exports","newConfirmSettings","typesConfirm","confirmSettings","ID","className","width","zindex","position","distance","backgroundColor","borderRadius","backOverlay","backOverlayColor","rtl","fontFamily","cssAnimation","cssAnimationDuration","cssAnimationStyle","plainText","titleColor","titleFontSize","titleMaxLength","messageColor","messageFontSize","messageMaxLength","buttonsFontSize","buttonsMaxLength","okButtonColor","okButtonBackground","cancelButtonColor","cancelButtonBackground","commonConsoleError","message","console","error","commonCheckHeadOrBody","element","commonExtendOptions","extended","deep","i","Object","prototype","toString","call","arguments","merge","obj","prop","hasOwnProperty","length","commonGetPlaintext","html","htmlPool","createElement","innerHTML","textContent","innerText","confirmGetInternalCSSCodes","confirmCreate","confirmType","title","messageOrQuestion","answer","okButtonText","cancelButtonText","okButtonCallback","cancelButtonCallback","options","Notiflix","Confirm","init","newConfirmSettingsBackup","Array","isArray","undefined","substring","ntflxConfirmWrap","id","style","zIndex","padding","confirmPosition","trim","confirmOverlay","cancelButtonHTML","setValidationInput","theExpectedAnswer","theClientAnswer","inputMaxLength","Math","ceil","getElementById","body","appendChild","confirmCloseWrap","okButton","validationInput","focus","setSelectionRange","value","event","thisValue","target","preventDefault","toLocaleLowerCase","keyCode","dispatchEvent","Event","stopPropagation","returnValue","cancelBubble","timeout","setTimeout","parentNode","removeChild","clearTimeout","userConfirmOptions","getInternalCSSCodes","styleElementId","internalCSS","head","commonSetInternalCSSCodes","userConfirmExtendOptions","show","ask","question","prompt","defaultAnswer","define","amd","$99c8628358c412e3$var$refs","$99c8628358c412e3$var$firebase","Firebase","$99c8628358c412e3$export$7e9e285ae562a967","singInWithGoogle","myLibrary","auth","lastNotifiedUid","location","href","$f67af35c03933beb$var$refs","$f67af35c03933beb$var$firebase","addToWatched","addToQueue","e","textContentAdd","textContentRemove","log","setDoc","userId","includes","removeFilmById","filmGallery","watchedMovies","getDoc","watchedMoviesId","values","queueMovies","queueMoviesId","$00a862f89aaa0a72$var$refs","$00a862f89aaa0a72$export$605b145a07818080","movie","insertImgCont","original_title","poster_path","backdrop_path","moviePoster","$00a862f89aaa0a72$export$a30ef51ab559b8","movieBox","original_name","popularity","genres","vote_average","vote_count","overview","movieTitle","movieGenres","map","genre","toFixed","join","$00a862f89aaa0a72$export$d3af4656dcd9770b","querySelector","display","$00a862f89aaa0a72$var$onMovieModalClose","modalBackdrop","removeEventListener","$00a862f89aaa0a72$var$onEscPress","code","currentTarget","contains","movieCard","$1f0dc3b9307be026$export$57f8c9967d0d81f3","fetchMovie","movieId","fetchMovieVideo","modalCloseBtn","$eb5b4b6d39880dcf$export$188cb65847573555","results","genresDict","release_date","first_air_date","genre_ids","votes","poster","id1","filmTitle","filmDate","Date","getFullYear","$2shzp","$1c71b2a1096765e9$export$1598e1643bb93e96","url","$cQLOM","BASE_URL","API_KEY","default","get","data","reduce","acc","currentValue","alert","$1c71b2a1096765e9$var$fetchMovieGenres","$1c71b2a1096765e9$var$fetchTvGenres","$71009b01fa8718e8$var$refs","$71009b01fa8718e8$var$filmsApiService","FilmsApiService","searchForm","form","query","elements","search","filmOnSearch","fetchFilmsOnSearch","films","$71009b01fa8718e8$var$renderFilmGallery","reset","el","btnUp","this","hide","scrollY","documentElement","scrollTop","onclick","scrollTo","top","left","behavior","$1f0dc3b9307be026$var$refs","$1f0dc3b9307be026$var$renderFilmGallery","fetchFilmsTrending","$1f0dc3b9307be026$var$load"],"version":3,"file":"index.3a92d9fd.js.map"}